---
layout: post
title: Ман по установке и настройке i3wm
description: Ман по установке и настройке i3wm
date: 2019-12-15 17:43:09 +0500
permalink: /i3wm
categories: 
- install
- checklists
tags:
- checklists
edit: true
---
# Простой вариант установки и настройки i3wm (минимализм)

## Вступление
Скорее всего тут будет 2 варианта настройки i3wm: упрощенный без наворотов без всяких прозрачностей, отступов от окно и прочими наворотами, все остальное будем делать с следующей статье с использованием i3wm-gaps.

## Ссылки
[Официальная документация по i3wm](https://i3wm.org/docs/userguide.html)<br>
[Документация по i3status](https://jlk.fjfi.cvut.cz/arch/manpages/man/i3status.1)<br>
[i3wm в ArchWiki](https://wiki.archlinux.org/index.php/i3_%28%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9%29)<br>
[Мой конфиг с пояснениями внутри](https://github.com/ordanax/dots/blob/master/i3/config)



## Установка
Сначала давайте установим все, что нам понадобится. При этом помним, что это вариант минимализма. Чтобы понять что к чему, а далее уже будем делать рюшечки :)

**Нам понадобится:**
 1. **i3wm** - оконный менеджер
 2. **i3status**  - вывода строки статуса в i3bar
 3. **sbxkb** - индикатор раскладки (можно без нее... когда вы последний раз смотрели на раскладку... уверены, что это вам нужно?)
 4. **dmenu** - утилита для запуска программ
 5. **ttf-font-awesome** - шрифтовые иконки
 6. **nitrogen** - установка обоины на рабочий стол
 7. **lxappearance** - установка тем для окон, иконок, курсора
 8. **pcmanfm** - файловый менеджер
 9. **gvfs** и **udiskie** - для авто монтирования внешних дисков
 10. **xorg-xbacklight** - для управлением яркостью экрана

**Ставим пакеты из pacman**:

```sh
# pacman -S i3-wm i3status sbxkb dmenu pcmanfm ttf-font-awesome nitrogen lxappearance pcmanfm gvfs udiskie xorg-xbacklight
```

## Настройка конфига i3wm
При первичной загрузке вы увидите примерно такое сообщение:

![Первичная настройка i3wm](https://i.imgur.com/16qcGH4.png)

Нажмите 2 раза на Enter - это создаст конфигурационный файл, который мы потом будем менять.
Вы увидите просто черный экран и возможно курсор мыши :)))
Не пугайтесь все нормально. Значит система работает и вы сделали все правильно.

Зачастую можно видеть символ загрузки, который постоянно вращается (до 60 сек.) Это означает, что система пытается запустить какой-то процесс. 
Если вас это раздражает, то это можно убрать прописав перед запуском программ код
```sh
--no-startup-id
```
### Обои на рабочий стол
Устанавливаем обои на рабочий стол

```sh
exec --no-startup-id feh --bg-scale /usr/share/backgrounds/xfce/bg.jpg
```
### Автозагрузка программ
Прописываем автозагрузку программ кодом

```sh
exec --no-startup-id flameshot
```
![Авто загрузка программ](https://i.imgur.com/nAKQgKz.png)

### Отключение заголовков окон
Я предпочел отключить заголовки окон. Освободив дополнительное пространство на рабочем столе.
```sh
default_border pixel
```
### Настройка толщены рамки i3wm
Для увеличение толщены рамки, чтобы было лучше видно активное окно используем следующий код
```
for_window [tiling] border pixel 3
```
### Горячие клавиши по умолчанию в i3wm
![Горячие клавиши по умолчанию в i3wm](https://i.imgur.com/UlUUwlZ.png)

![Горячие клавиши по умолчанию в i3wm](https://i.imgur.com/coA6ify.png)


### Назначаем свои горячие клавиши
Прописываем запуск программ на определенных горячие клавиши
```
bindsym $mod+F1 exec firefox
bindsym $mod+F3 exec subl
bindsym $mod+F4 exec cherrytree
bindsym $mod+F5 exec galculator
```
Я к примеру использую консольный вариант проигрывателя VLC, запуская его горячими клавишами. При этом радио начинает играть автоматом. Авто подключение радио потока прописано в настройках vlc. 
```
bindsym $mod+Home exec cvlc
```
И т.к. программа запускается без GUI ее удобнее выключать горячими клавишами, которые просто убивают процесс vlc

### Убить процесс
Для того, чтобы убить процесс использую команду killall -s 6
```
bindsym $mod+Prior exec killall -s 6 vlc
```
### Как найти название клавиш
Тут возникает вопрос что за клавиша такая Prior, которую мы использовали выше и как вообще найти название клавиш, которые хотелось бы призвать.
Клавиша Prior - на моей клавиатуре это клавиша Pg Up/■ . Это одна из клавиш, которая используется для управлением проигрывателя (старт, стоп, пауза, перемотка и т.д.)
Для того, чтобы найти название клавиш используем утилиту **xev**
Вбив в консоли команду:
```
xev
```
После запуска вы увидите белый экран с квадратом вверху

![Как узнать название клавиши для hotkey](https://i.imgur.com/nLjkrbV.png)
Подведите курсор мышки к квадрату и не уводя с него, нажмите на нужную клавишу. И в терминале увидите ее название.

Думаю тут все понятно  не вызовет никаких трудностей. Идем дальше.

### Открытие программ в плавающем окне
Если определенную программу нужно открыть не в тайлинге, а в плавающем окне используйте код
```
for_window [class="Xfce4-terminal"] floating enable
```
Где Xfce4-terminal это название программы.

### Открытие программ в нужном рабочем столе
В i3wm есть фишка, которую я не встречал в других DE/WM - это запукс программ на определенном рабочем столе. Это может быть очень удобно, когда вы знаете какая программа и на каком рабочем столе она запускается.

Данный код запустит Firefox на 3-м рабочем столе
```
for_window [class="firefox"] move to workspace $ws3
```

### Регулировка яркости экрана
Управление яркостью экрана, нужно установить xbacklight. Он у вас уже должен стоять если вы следуете этому ману.

```
bindsym XF86MonBrightnessUp exec xbacklight -inc 20
bindsym XF86MonBrightnessDown exec xbacklight -dec 20
```

## Настройка конфига i3status
### Копирование конфига
Прежде чем вносить изменения, нужно скопировать настройки для i3status

Для этого сначала создадим папку i3status (если у вас ее нет)
```sh
$ mkdir ~/.config/i3status
```
Далее копируем конфиг в домашнюю директорию, выполнив следующий код:
```sh
$ cp /etc/i3status.conf ~/.config/i3status/config
```
### Настройки конфига i3status
Все иконки можете брать с сайта [fontawesome](https://fontawesome.com/cheatsheet?from=io) и вставлять в конфиг
![Где брать иконки fontawesome для конфига статус бара i3wm ](https://i.imgur.com/HlTYH4c.png)

### Индикатор звука
Для того, чтобы у вас был индикатор звука используйте код:
```sh
volume master {
        format = " %volume"
        format_muted = ""
        device = "default"
        mixer =  "Master"
        mixer_idx = 0
        
}
```
Тут особо расписывать нечего. Смотрите  [мои настройки конфиг i3status](https://github.com/ordanax/dots/blob/master/i3status/config)

Дополнительные настройки смотрите в [документации по i3status](https://jlk.fjfi.cvut.cz/arch/manpages/man/i3status.1)


## Заключение
В следующей статье мы рассмотрим вариант с установкой и настройкой i3wm-graps
Надеюсь статья была вам полезна. Пшите вопросы и пожелания в комментариях и в нашей группе [ https://vk.com/arch4u]( https://vk.com/arch4u)
