<!DOCTYPE html>

<head>
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	
	<link href="/assets/bootstrap.min.css" rel="stylesheet">
	<link href="/assets/blog.css" rel="stylesheet">
	<link href="/assets/breadcrumb-style.css" rel="stylesheet">
	
	<title>Пагинация постов Jekyll по категориям</title>
	<meta name="description" content="В данной статье рассмотрим как подключить плагин для постраничного вывода постов в категориях Jekyll. Пагинация постов Jekyll по категориям важный вопрос при создании блога.">
	
	<!-- vk -->
	<script type="text/javascript" src="https://vk.com/js/api/openapi.js?160"></script>
	<script type="text/javascript">
	  VK.init({apiId: 6841969, onlyWidgets: true});
	</script>
	<!--/ vk -->

		<meta name="yandex-verification" content="805b49eb4e4e9adf" />
	<meta name="google-site-verification" content="Cow6hdfnPNIg8_IaHo9RpbGNwL_xHNus5MdQ3EzQeyE" />
	
	<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
	<link rel="icon" href="/favicon.ico" type="image/x-icon">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css" integrity="sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ" crossorigin="anonymous">
	<link type="application/atom+xml" rel="alternate" href="//localhost:4000/feed.xml" title="Все об Arch Linux" />
	
	<!-- feed meta -->
</head>


<body>
	<div class="blog-masthead">
		<div class="container">
			<nav class="blog-nav">
  <a class="blog-nav-item" href="/">Главная</a>
  <a class="blog-nav-item" href="https://ordanax.github.io/jekyll/">Jekyll</a>
  <a class="blog-nav-item" href="https://ordanax.github.io/seo/">SEO</a>
  <a class="blog-nav-item" href="https://ordanax.github.io/useful/">Полезное</a>
  <a class="blog-nav-item" href="https://www.youtube.com/c/HtmlBlog" target="_blank" rel="nofollow">Канал на Youtube</a>
  <a class="blog-nav-item" href="https://ordanax.github.io/about/">Об авторе</a>
</nav>

		</div>
	</div>

	<div class="container">
		<div class="blog-header">
	<a href="/"><img class="blog-logo" src="//localhost:4000/img/archlinux-logo.png" alt="logo"></a>
	<span class="blog-title">Все об Arch Linux</span>
	<p class="lead blog-description">Установка и настройка Arch Linux, статьи, конфиги, группа поддержки.</p>
</div>

		<div class="row">
			<div class="col-md-12">

  <nav class="breadcrumbs hidden-sm-down">

    <a class="breadcrumb-item" href=//localhost:4000/>Главная</a>

    <ol class="list-unstyled" vocab="//schema.org/" typeof="BreadcrumbList">

      <!-- Skip if root -->
      
      
     
      
     

      
      

          
              
          

       

      
      

          
              

              

              <li itemprop="itemListElement" itemscope itemtype="//schema.org/ListItem">
                 <a class="breadcrumb-item" itemprop="item" href="//localhost:4000//jekyll/">
                   <span itemprop="name">jekyll</span>
                 </a>
                <meta itemprop="position" content="1" />
              </li>

              
          

       

      
      

          
              
          

       

      
      

          
              
          

       
      
        <li itemprop="itemListElement" itemscope itemtype="//schema.org/ListItem">
             <span class="breadcrumb-item" itemprop="name">Пагинация постов Jekyll по категориям</span>
        </li>

    </ol>

  </nav>

</div>
			<div class="col-md-8 blog-main"><div class="blog-post">
    <h1 class="blog-post-title">Постраничный вывод постов в категориях Jekyll </h1>
    <p class="blog-post-meta">15.04.2017</p>
    <p>Популярный в интернете вопрос - <strong>как организовать постраничный вывод постов в категориях Jekyll?</strong>
Не думал, что <em>пагинация постов в категориях Jekyll</em> такой сложный вопрос для многих людей :) Ну давайте тогда будем разбираться.</p>

<p>Скажу сразу - стандартный плагин пагинации <strong>jekyll-paginate</strong> такого не умеет. Если он у вас используется, то смело удаляйте все упоминания о нем с вашего сайта. Сейчас мы сделаем <strong>пагинацию</strong> через более функциональный плагин <strong>jekyll-paginate-v2</strong>.</p>

<p><br /></p>
<h3 id="далее-по-шагам-выполняем-следующие-действия">Далее по шагам выполняем следующие действия:</h3>

<p>1) Устанавливаем плагин пагинации. Открываем консоль (Shift + правая кнопка мыши. Выбираем “Открыть окно команд”) и выполняем команду:</p>

<blockquote>
  <p>gem install jekyll-paginate-v2</p>
</blockquote>

<p>2) Далее открываем файл настроек вашего сайта <strong>_config.yml</strong>. Он лежит в корне вашего сайта на <strong>Jekyll</strong>.</p>

<p>Важно! Проверяем задана ли у вас переменная <strong>baseurl</strong>. Если нет, то пишем вверху файла, где-нибудь рядом с title:</p>

<blockquote>
  <p>baseurl: /</p>
</blockquote>

<p>Задаем дефолтные настройки для нашего <strong>плагина постраничного вывода постов</strong>:</p>
<blockquote>
  <p>pagination:<br /></p>
  <blockquote>
    <p>enabled: true<br />
per_page: 4<br />
category: posts</p>
  </blockquote>
</blockquote>

<p>Подключаем плагин:</p>
<blockquote>
  <p>gem:<br /></p>
  <blockquote>
    <p>-jekyll-paginate-v2</p>
  </blockquote>
</blockquote>

<p>С файлом настроек закончили. Включили плагин, сказали ему выводить по умолчанию 4 записи из всех категорий (подойдет для главной страницы). Двигаемся дальше.</p>

<div>
<script async="" src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- html blog article adaptive -->
<ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-7700451254687983" data-ad-slot="1629640353" data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<p><br /></p>

<p>3) Открываем, также в корне вашего проекта <strong>Jekyll</strong>, файл <strong>Gemfile</strong>. Добавляем в него следующий код:</p>
<blockquote>
  <p>group :jekyll_plugins do<br /></p>
  <blockquote>
    <p>gem “jekyll-paginate-v2”</p>
  </blockquote>
</blockquote>

<blockquote>
  <p>end</p>
</blockquote>

<p>Если у вас уже есть данная конструкция в файле, то просто добавьте между строками <em>group</em> и <em>end</em> строку <strong>gem “jekyll-paginate-v2”</strong>.</p>

<p>4) На данном шаге нам необходимо изменить код вывода постов в категориях и на главной странице, если требуется.</p>

<p>Начнем с главной - откройте в корне сайта файл <em>index.html</em>. В шапке где задается <em>title</em> и <em>layout</em> добавьте код:</p>
<blockquote>
  <p>pagination:</p>
  <blockquote>
    <p>enabled: true</p>
  </blockquote>
</blockquote>

<p>Далее ищем код, который в цикле выводит посты и меняем его на код как на скриншоте:
<img src="/uploads/jekyll-post-category-paginate.jpg" alt="постраничный вывод записей в категориях Jekyll" /></p>
<blockquote>
  <p><a href="https://github.com/htmlblog/ordanax.github.io/blob/master/_uploads/paginate.txt" target="_blank" rel="nofollow">Скачать файл с кодом </a></p>
</blockquote>

<p>Далее вставляем код <strong>постраничного вывода постов Jekyll</strong> как на скриншоте:
<img src="/uploads/jekyll-posts-category-paginate.jpg" alt="пагинация постов в категориях Jekyll" /></p>
<blockquote>
  <p><a href="https://github.com/htmlblog/ordanax.github.io/blob/master/_uploads/paginate.txt" target="_blank" rel="nofollow">Скачать файл с кодом пагинации</a></p>
</blockquote>

<p><strong>Важно!</strong> Для главной страницы сайта! <br />
Замените в коде пагинации у ссылок <em>‘/news/’</em> на <em>’/’</em>.</p>

<p>Сохраняем файл и перезапускаем сервер сайта. Теперь у нас на главной странице выводятся последние четыре поста сайта.</p>

<p>Давайте теперь сделаем <strong>пагинацию постов в категории</strong>, например <em>sport</em>. Открываем файл в котором выводятся посты из категории <em>sport</em>. Повторяем действия, которые проводили на главной странице сайта с небольшими изменениями. Добавляем в шапку страницы код:</p>
<blockquote>
  <p>pagination:</p>
  <blockquote>
    <p>enabled: true<br />
category: sport</p>
  </blockquote>
</blockquote>

<p>Можно указать несколько категорий через запятую:</p>
<blockquote>
  <p>categories: sport, politica</p>
</blockquote>

<p>Важно! У вас обязательно должен быть указан постоянный адрес страницы категории:</p>
<blockquote>
  <p>permalink: sport/</p>
</blockquote>

<p>Далее копируем сюда из файла главной страницы код для вывода постов и код вывода постраничной навигации, <strong>но!</strong> меняем в коде пагинации <em>/news/</em> на постоянный url вашей категории -
 <em>/sport/</em>.</p>

<p>На скриншоте выше выделены три участка кода, где требуется произвести замену.</p>

<p>После перезапуска сервера по адресу <em>localhost:4000/sport/</em> будут выводится посты из категории <em>sport</em> по 4 штуки на страницу. Если требуется изменить число выводимых постов, то добавьте в шапку файла категории параметр:</p>
<blockquote>
  <p>per_page: число постов</p>
</blockquote>

<p>На этом все. Смотрите видеоурок по данной статье на моем канале.</p>

	<div class="blog-post-tags">
	  
	</div>
    <hr>
    	<div id="disqus_thread"></div>
	<!-- vk like -->
<div id="vk_like"></div>
<script type="text/javascript">
VK.Widgets.Like("vk_like", {type: "full"});
</script>
<!-- vk like -->
	<span class="small-left"> Забери пост себе на стену, чтобы легко найти! Или поделись с друзьями!</span>
<br>
<script src="//yastatic.net/es5-shims/0.0.2/es5-shims.min.js"></script>
<script src="//yastatic.net/share2/share.js"></script>
<div class="ya-share2" data-services="vkontakte,facebook,odnoklassniki,moimir,twitter,blogger,evernote,lj,viber,whatsapp,skype,telegram" data-counter=""></div>
<br>
	Поставь оценку посту и напиши комментарий!
<div id="wpac-comment"></div>
<script type="text/javascript">
wpac_init = window.wpac_init || [];
wpac_init.push({widget: 'Comment', id: 16415});
(function() {
    if ('WIDGETPACK_LOADED' in window) return;
    WIDGETPACK_LOADED = true;
    var mc = document.createElement('script');
    mc.type = 'text/javascript';
    mc.async = true;
    mc.src = 'https://embed.widgetpack.com/widget.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(mc, s.nextSibling);
})();
</script>
</div>
</div>
			<div class="col-md-3 offset-1 blog-sidebar"><div class="sidebar-module sidebar-module-inset">
	<h3>Блог</h3>
	<ol class="list-unstyled right-menu">
		<li><a href="https://ordanax.github.io/jekyll/">Уроки Jekyll</a></li>
		<li><a href="https://ordanax.github.io/seo/">SEO</a></li>
		<li><a href="https://ordanax.github.io/useful/">Полезное</a></li>
	</ol>
</div>

<div class="sidebar-module sidebar-module-inset">
	<h4>Подписка на новости</h4>
	<form style="text-align:center;" action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open('https://feedburner.google.com/fb/a/mailverify?uri=github/MaeS', 'popupwindow', 'scrollbars=yes,width=242,height=auto');return true">
		<p style="text-align: justify; font-style: italic;">Подпишитесь на обновления блога, чтобы получать новости первым.</p>
		<p><input type="text" style="width:100%;color: #969696; padding-left: 5px;" name="email" value="Укажите ваш email адрес" /></p>
		<input type="hidden" value="github/MaeS" name="uri"/><input type="hidden" name="loc" value="ru_RU"/>
		<input type="submit" value="Подписаться" />
	</form>
</div>
<div id="vk_groups"></div>
<script type="text/javascript">
VK.Widgets.Group("vk_groups", {mode: 3, no_cover: 1}, 129498031);
</script>


<div class="sidebar-module sidebar-module-ads">
	<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
	<!-- html blog article adaptive -->
	<ins class="adsbygoogle"
	     style="display:block"
	     data-ad-client="ca-pub-7700451254687983"
	     data-ad-slot="1629640353"
	     data-ad-format="auto"></ins>
	<script>
	(adsbygoogle = window.adsbygoogle || []).push({});
	</script>
</div>
</div>
		</div>
	</div>
	<div class="blog-footer">
		<footer class="main-footer">
	<div class="contaiter">
		<nav class="soc">
			<ul>
				<li><a href="https://vk.com/arch4u"><i class="fab fa-vk"></i></a></li> <li><a href="https://www.youtube.com/Arch4u"><i class="fab fa-youtube"></i></a></li> <li><a href="https://ordanax.github.io/feed.xml"><i class="fas fa-rss"></i></a></li>
			</ul>
		</nav>

	</div>
</footer>
<footer class="bottom-footer">
	<div class="container text-center">
		<div class="footer-copy">2019 © <span class="logo-footer logo-litera">Бойко Алексей</span>
		</div>
		<p></p>
	</div>
</footer>
	</div>


</body>

</html>               
